(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{250:function(t,e,c){"use strict";var b=c(0),l=c(251),j=c(252);function n(t,e,c){const b=t.slice();return b[7]=e[c],b}function O(t){let e,c;const n=new l.a({props:{icon:j.a}});return{c(){e=Object(b.v)("a"),Object(b.q)(n.$$.fragment),this.h()},l(t){e=Object(b.l)(t,"A",{href:!0,class:!0});var c=Object(b.j)(e);Object(b.k)(n.$$.fragment,c),c.forEach(b.u),this.h()},h(){Object(b.f)(e,"href",t[0]),Object(b.f)(e,"class","mr-2")},m(t,l){Object(b.G)(t,e,l),Object(b.J)(n,e,null),c=!0},p(t,l){(!c||1&l)&&Object(b.f)(e,"href",t[0])},i(t){c||(Object(b.ab)(n.$$.fragment,t),c=!0)},o(t){Object(b.bb)(n.$$.fragment,t),c=!1},d(t){t&&Object(b.u)(e),Object(b.s)(n)}}}function a(t){let e,c,n;const O=new l.a({props:{icon:j.e}});return{c(){e=Object(b.v)("button"),Object(b.q)(O.$$.fragment),this.h()},l(t){e=Object(b.l)(t,"BUTTON",{class:!0});var c=Object(b.j)(e);Object(b.k)(O.$$.fragment,c),c.forEach(b.u),this.h()},h(){Object(b.f)(e,"class","px-2")},m(l,j,a){Object(b.G)(l,e,j),Object(b.J)(O,e,null),c=!0,a&&n(),n=Object(b.I)(e,"click",t[5])},p:b.K,i(t){c||(Object(b.ab)(O.$$.fragment,t),c=!0)},o(t){Object(b.bb)(O.$$.fragment,t),c=!1},d(t){t&&Object(b.u)(e),Object(b.s)(O),n()}}}function r(t){let e,c,l,j=t[1],O=[];for(let e=0;e<j.length;e+=1)O[e]=s(n(t,j,e));return{c(){e=Object(b.v)("div"),c=Object(b.v)("div");for(let t=0;t<O.length;t+=1)O[t].c();this.h()},l(t){e=Object(b.l)(t,"DIV",{class:!0});var l=Object(b.j)(e);c=Object(b.l)(l,"DIV",{class:!0});var j=Object(b.j)(c);for(let t=0;t<O.length;t+=1)O[t].l(j);j.forEach(b.u),l.forEach(b.u),this.h()},h(){Object(b.f)(c,"class","absolute right-0 mx-2 mt-10 py-1 w-40 bg-grey-700 text-white\n      rounded shadow-xl"),Object(b.f)(e,"class","absolute w-full h-full bg-transparent")},m(j,n,a){Object(b.G)(j,e,n),Object(b.d)(e,c);for(let t=0;t<O.length;t+=1)O[t].m(c,null);a&&l(),l=Object(b.I)(e,"click",t[6])},p(t,e){if(2&e){let b;for(j=t[1],b=0;b<j.length;b+=1){const l=n(t,j,b);O[b]?O[b].p(l,e):(O[b]=s(l),O[b].c(),O[b].m(c,null))}for(;b<O.length;b+=1)O[b].d(1);O.length=j.length}},d(t){t&&Object(b.u)(e),Object(b.t)(O,t),l()}}}function s(t){let e,c,l,j,n=t[7].title+"";return{c(){e=Object(b.v)("a"),c=Object(b.Z)(n),l=Object(b.W)(),this.h()},l(t){e=Object(b.l)(t,"A",{href:!0,class:!0});var j=Object(b.j)(e);c=Object(b.n)(j,n),l=Object(b.m)(j),j.forEach(b.u),this.h()},h(){Object(b.f)(e,"href",j=t[7].url),Object(b.f)(e,"class","block px-3 py-1 text-gray-800")},m(t,j){Object(b.G)(t,e,j),Object(b.d)(e,c),Object(b.d)(e,l)},p(t,l){2&l&&n!==(n=t[7].title+"")&&Object(b.S)(c,n),2&l&&j!==(j=t[7].url)&&Object(b.f)(e,"href",j)},d(t){t&&Object(b.u)(e)}}}function o(t){let e,c,l,j,n,s,o=t[0]&&O(t);const u=t[4].default,i=Object(b.r)(u,t,t[3],null),f=i||function(t){let e;return{c(){e=Object(b.v)("div"),this.h()},l(t){e=Object(b.l)(t,"DIV",{class:!0}),Object(b.j)(e).forEach(b.u),this.h()},h(){Object(b.f)(e,"class","flex-grow")},m(t,c){Object(b.G)(t,e,c)},d(t){t&&Object(b.u)(e)}}}();let h=t[1]&&a(t),d=t[2]&&r(t);return{c(){e=Object(b.v)("header"),o&&o.c(),c=Object(b.W)(),f&&f.c(),l=Object(b.W)(),h&&h.c(),j=Object(b.W)(),d&&d.c(),n=Object(b.w)(),this.h()},l(t){e=Object(b.l)(t,"HEADER",{class:!0});var O=Object(b.j)(e);o&&o.l(O),c=Object(b.m)(O),f&&f.l(O),l=Object(b.m)(O),h&&h.l(O),O.forEach(b.u),j=Object(b.m)(t),d&&d.l(t),n=Object(b.w)(),this.h()},h(){Object(b.f)(e,"class","p-3 bg-grey-800 flex items-center text-white")},m(t,O){Object(b.G)(t,e,O),o&&o.m(e,null),Object(b.d)(e,c),f&&f.m(e,null),Object(b.d)(e,l),h&&h.m(e,null),Object(b.G)(t,j,O),d&&d.m(t,O),Object(b.G)(t,n,O),s=!0},p(t,[l]){t[0]?o?(o.p(t,l),Object(b.ab)(o,1)):(o=O(t),o.c(),Object(b.ab)(o,1),o.m(e,c)):o&&(Object(b.E)(),Object(b.bb)(o,1,1,()=>{o=null}),Object(b.i)()),i&&i.p&&8&l&&i.p(Object(b.A)(u,t,t[3],null),Object(b.z)(u,t[3],l,null)),t[1]?h?(h.p(t,l),Object(b.ab)(h,1)):(h=a(t),h.c(),Object(b.ab)(h,1),h.m(e,null)):h&&(Object(b.E)(),Object(b.bb)(h,1,1,()=>{h=null}),Object(b.i)()),t[2]?d?d.p(t,l):(d=r(t),d.c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null)},i(t){s||(Object(b.ab)(o),Object(b.ab)(f,t),Object(b.ab)(h),s=!0)},o(t){Object(b.bb)(o),Object(b.bb)(f,t),Object(b.bb)(h),s=!1},d(t){t&&Object(b.u)(e),o&&o.d(),f&&f.d(t),h&&h.d(),t&&Object(b.u)(j),d&&d.d(t),t&&Object(b.u)(n)}}}function u(t,e,c){let{back:b}=e,{menu:l}=e,j=!1,{$$slots:n={},$$scope:O}=e;return t.$set=t=>{"back"in t&&c(0,b=t.back),"menu"in t&&c(1,l=t.menu),"$$scope"in t&&c(3,O=t.$$scope)},[b,l,j,O,n,()=>{c(2,j=!0)},()=>{c(2,j=!1)}]}class i extends b.a{constructor(t){super(),Object(b.F)(this,t,u,o,b.Q,{back:0,menu:1})}}e.a=i},257:function(t,e,c){"use strict";async function b(t,e){const c=t.getReader(),b=new TextDecoder("utf-8");let l="";!async function t(){const{done:j,value:n}=await c.read();if(j)return;const O=b.decode(n).split("\n");O[0]=l+O[0],l=O.pop();for(const t of O){const c=JSON.parse(t);try{e(c)}catch(t){console.log("Failed to unpack message:",t)}}t()}()}c.d(e,"a",(function(){return b}))},329:function(t,e,c){"use strict";c.r(e);var b=c(0),l=c(31);function j(t){let e;return{c(){e=Object(b.v)("div"),this.h()},l(t){e=Object(b.l)(t,"DIV",{style:!0}),Object(b.j)(e).forEach(b.u),this.h()},h(){Object(b.V)(e,"width","0px")},m(c,l){Object(b.G)(c,e,l),t[8](e)},p:b.K,i:b.K,o:b.K,d(c){c&&Object(b.u)(e),t[8](null)}}}function n(t,e,c){let{threshold:j=0}=e,{horizontal:n=!1}=e,{elementScroll:O}=e,{hasMore:a=!0}=e;const r=Object(l.c)();let s,o=!1;const u=t=>{t.target;(n?t.target.scrollWidth-t.target.clientWidth-t.target.scrollLeft:t.target.scrollHeight-t.target.clientHeight-t.target.scrollTop)<=j?(!o&&a&&r("loadMore"),o=!0):o=!1};return Object(l.e)(()=>{if(s||O){const t=O||s.parentNode;t.removeEventListener("scroll",null),t.removeEventListener("resize",null)}}),t.$set=t=>{"threshold"in t&&c(1,j=t.threshold),"horizontal"in t&&c(2,n=t.horizontal),"elementScroll"in t&&c(3,O=t.elementScroll),"hasMore"in t&&c(4,a=t.hasMore)},t.$$.update=()=>{if(9&t.$$.dirty&&(s||O)){const t=O||s.parentNode;t.addEventListener("scroll",u),t.addEventListener("resize",u)}},[s,j,n,O,a,o,r,u,function(t){b.h[t?"unshift":"push"](()=>{c(0,s=t)})}]}class O extends b.a{constructor(t){super(),Object(b.F)(this,t,n,j,b.Q,{threshold:1,horizontal:2,elementScroll:3,hasMore:4})}}var a=O,r=c(76),s=(c(127),c(20)),o=(c(13),c(47)),u=c(257),i=c(77),f=c(250),h=c(251),d=c(78),m=c(252);function p(t,e,c){const b=t.slice();return b[11]=e[c],b}function $(t){let e,c,l,j,n,O,a;const r=new h.a({props:{class:"float-right",icon:m.g}});return{c(){e=Object(b.Z)("BOB\n  \n  "),c=Object(b.v)("div"),l=Object(b.v)("input"),j=Object(b.W)(),n=Object(b.v)("a"),Object(b.q)(r.$$.fragment),this.h()},l(t){e=Object(b.n)(t,"BOB\n  \n  "),c=Object(b.l)(t,"DIV",{class:!0});var O=Object(b.j)(c);l=Object(b.l)(O,"INPUT",{class:!0,placeholder:!0}),O.forEach(b.u),j=Object(b.m)(t),n=Object(b.l)(t,"A",{class:!0,href:!0});var a=Object(b.j)(n);Object(b.k)(r.$$.fragment,a),a.forEach(b.u),this.h()},h(){Object(b.f)(l,"class","w-full bg-grey-500 rounded h-auto placeholder-grey-700 px-2\n      text-black"),Object(b.f)(l,"placeholder","Search"),Object(b.f)(c,"class","flex-grow mx-5 h-6"),Object(b.f)(n,"class","px-2 h-full"),Object(b.f)(n,"href","/fund")},m(s,o,u){Object(b.G)(s,e,o),Object(b.G)(s,c,o),Object(b.d)(c,l),Object(b.T)(l,t[1]),t[10](l),Object(b.G)(s,j,o),Object(b.G)(s,n,o),Object(b.J)(r,n,null),O=!0,u&&a(),a=Object(b.I)(l,"input",t[9])},p(t,e){2&e&&l.value!==t[1]&&Object(b.T)(l,t[1])},i(t){O||(Object(b.ab)(r.$$.fragment,t),O=!0)},o(t){Object(b.bb)(r.$$.fragment,t),O=!1},d(l){l&&Object(b.u)(e),l&&Object(b.u)(c),t[10](null),l&&Object(b.u)(j),l&&Object(b.u)(n),Object(b.s)(r),a()}}}function g(t){let e,c,l=t[4],j=[];for(let e=0;e<l.length;e+=1)j[e]=w(p(t,l,e));const n=t=>Object(b.bb)(j[t],1,1,()=>{j[t]=null});return{c(){for(let t=0;t<j.length;t+=1)j[t].c();e=Object(b.w)()},l(t){for(let e=0;e<j.length;e+=1)j[e].l(t);e=Object(b.w)()},m(t,l){for(let e=0;e<j.length;e+=1)j[e].m(t,l);Object(b.G)(t,e,l),c=!0},p(t,c){if(25&c){let O;for(l=t[4],O=0;O<l.length;O+=1){const n=p(t,l,O);j[O]?(j[O].p(n,c),Object(b.ab)(j[O],1)):(j[O]=w(n),j[O].c(),Object(b.ab)(j[O],1),j[O].m(e.parentNode,e))}for(Object(b.E)(),O=l.length;O<j.length;O+=1)n(O);Object(b.i)()}},i(t){if(!c){for(let t=0;t<l.length;t+=1)Object(b.ab)(j[t]);c=!0}},o(t){j=j.filter(Boolean);for(let t=0;t<j.length;t+=1)Object(b.bb)(j[t]);c=!1},d(t){Object(b.t)(j,t),t&&Object(b.u)(e)}}}function v(t){let e,c,l,j,n,O;const a=new h.a({props:{icon:m.b,class:"w-10 h-10 mr-2 my-auto"}});return{c(){e=Object(b.v)("li"),c=Object(b.v)("a"),Object(b.q)(a.$$.fragment),l=Object(b.Z)("\n        Message Address "),j=Object(b.Z)(t[1]),this.h()},l(n){e=Object(b.l)(n,"LI",{class:!0});var O=Object(b.j)(e);c=Object(b.l)(O,"A",{href:!0,class:!0});var r=Object(b.j)(c);Object(b.k)(a.$$.fragment,r),l=Object(b.n)(r,"\n        Message Address "),j=Object(b.n)(r,t[1]),r.forEach(b.u),O.forEach(b.u),this.h()},h(){Object(b.f)(c,"href",n="/chat/"+t[1]),Object(b.f)(c,"class","border-solid text-white flex flex-row"),Object(b.f)(e,"class","w-full py-2")},m(t,n){Object(b.G)(t,e,n),Object(b.d)(e,c),Object(b.J)(a,c,null),Object(b.d)(c,l),Object(b.d)(c,j),O=!0},p(t,e){(!O||2&e)&&Object(b.S)(j,t[1]),(!O||2&e&&n!==(n="/chat/"+t[1]))&&Object(b.f)(c,"href",n)},i(t){O||(Object(b.ab)(a.$$.fragment,t),O=!0)},o(t){Object(b.bb)(a.$$.fragment,t),O=!1},d(t){t&&Object(b.u)(e),Object(b.s)(a)}}}function w(t){let e,c,l,j,n,O,a,r,s,o,u,i,f,h=(t[11].contact===t[3]?"Storage":t[11].contact)+"",d=t[11].text+"";var m=t[0];function p(t){return{props:{pubKey:t[11].contact}}}if(m)var $=new m(p(t));return{c(){e=Object(b.v)("li"),c=Object(b.v)("a"),l=Object(b.v)("div"),$&&Object(b.q)($.$$.fragment),j=Object(b.W)(),n=Object(b.v)("ul"),O=Object(b.v)("li"),a=Object(b.Z)(h),r=Object(b.W)(),s=Object(b.v)("li"),o=Object(b.Z)(d),i=Object(b.W)(),this.h()},l(t){e=Object(b.l)(t,"LI",{class:!0});var u=Object(b.j)(e);c=Object(b.l)(u,"A",{href:!0,class:!0});var f=Object(b.j)(c);l=Object(b.l)(f,"DIV",{class:!0});var m=Object(b.j)(l);$&&Object(b.k)($.$$.fragment,m),m.forEach(b.u),j=Object(b.m)(f),n=Object(b.l)(f,"UL",{style:!0});var p=Object(b.j)(n);O=Object(b.l)(p,"LI",{});var g=Object(b.j)(O);a=Object(b.n)(g,h),g.forEach(b.u),r=Object(b.m)(p),s=Object(b.l)(p,"LI",{class:!0});var v=Object(b.j)(s);o=Object(b.n)(v,d),v.forEach(b.u),p.forEach(b.u),f.forEach(b.u),i=Object(b.m)(u),u.forEach(b.u),this.h()},h(){Object(b.f)(l,"class","w-10 h-10 bg-grey-200 rounded-full flex-shrink-0 mr-2 my-auto\n            overflow-hidden"),Object(b.f)(s,"class","text-sm text-grey-400 cut-text svelte-1r9p5ia"),Object(b.V)(n,"min-width","0"),Object(b.f)(c,"href",u="/chat/"+t[11].contact),Object(b.f)(c,"class","border-solid text-white flex flex-row overflow-x-hidden"),Object(b.f)(e,"class","w-full py-2")},m(t,u){Object(b.G)(t,e,u),Object(b.d)(e,c),Object(b.d)(c,l),$&&Object(b.J)($,l,null),Object(b.d)(c,j),Object(b.d)(c,n),Object(b.d)(n,O),Object(b.d)(O,a),Object(b.d)(n,r),Object(b.d)(n,s),Object(b.d)(s,o),Object(b.d)(e,i),f=!0},p(t,e){const j={};if(16&e&&(j.pubKey=t[11].contact),m!==(m=t[0])){if($){Object(b.E)();const t=$;Object(b.bb)(t.$$.fragment,1,0,()=>{Object(b.s)(t,1)}),Object(b.i)()}m?($=new m(p(t)),Object(b.q)($.$$.fragment),Object(b.ab)($.$$.fragment,1),Object(b.J)($,l,null)):$=null}else m&&$.$set(j);(!f||24&e)&&h!==(h=(t[11].contact===t[3]?"Storage":t[11].contact)+"")&&Object(b.S)(a,h),(!f||16&e)&&d!==(d=t[11].text+"")&&Object(b.S)(o,d),(!f||16&e&&u!==(u="/chat/"+t[11].contact))&&Object(b.f)(c,"href",u)},i(t){f||($&&Object(b.ab)($.$$.fragment,t),f=!0)},o(t){$&&Object(b.bb)($.$$.fragment,t),f=!1},d(t){t&&Object(b.u)(e),$&&Object(b.s)($)}}}function x(t){let e,c,l,j,n,O,r;const s=new f.a({props:{menu:t[5],$$slots:{default:[$]},$$scope:{ctx:t}}}),o=[v,g],u=[];function i(t,e){return t[1]?0:1}j=i(t),n=u[j]=o[j](t);const h=new a({props:{threshold:400}});return h.$on("loadMore",t[6]),{c(){e=Object(b.W)(),Object(b.q)(s.$$.fragment),c=Object(b.W)(),l=Object(b.v)("ul"),n.c(),O=Object(b.W)(),Object(b.q)(h.$$.fragment),this.h()},l(t){Object(b.O)('[data-svelte="svelte-16sbihp"]',document.head).forEach(b.u),e=Object(b.m)(t),Object(b.k)(s.$$.fragment,t),c=Object(b.m)(t),l=Object(b.l)(t,"UL",{style:!0,class:!0});var j=Object(b.j)(l);n.l(j),O=Object(b.m)(j),Object(b.k)(h.$$.fragment,j),j.forEach(b.u),this.h()},h(){document.title="BOB Chats",Object(b.V)(l,"overflow-x","scroll"),Object(b.f)(l,"class","scrolling-touch flex-auto px-3 py-2")},m(t,n){Object(b.G)(t,e,n),Object(b.J)(s,t,n),Object(b.G)(t,c,n),Object(b.G)(t,l,n),u[j].m(l,null),Object(b.d)(l,O),Object(b.J)(h,l,null),r=!0},p(t,[e]){const c={};16390&e&&(c.$$scope={dirty:e,ctx:t}),s.$set(c);let a=j;j=i(t),j===a?u[j].p(t,e):(Object(b.E)(),Object(b.bb)(u[a],1,1,()=>{u[a]=null}),Object(b.i)(),n=u[j],n||(n=u[j]=o[j](t),n.c()),Object(b.ab)(n,1),n.m(l,O))},i(t){r||(Object(b.ab)(s.$$.fragment,t),Object(b.ab)(n),Object(b.ab)(h.$$.fragment,t),r=!0)},o(t){Object(b.bb)(s.$$.fragment,t),Object(b.bb)(n),Object(b.bb)(h.$$.fragment,t),r=!1},d(t){t&&Object(b.u)(e),Object(b.s)(s,t),t&&Object(b.u)(c),t&&Object(b.u)(l),u[j].d(),Object(b.s)(h)}}}function y(t,e,j){let n,O,a,f,h,m;Object(b.o)(t,s.e,t=>j(3,n=t)),Object(b.o)(t,s.a,t=>j(8,O=t)),Object(b.o)(t,o.a,t=>j(4,a=t));let p;async function $(){await s.a.loaded,await o.b.loaded;const t=await Object(i.b)(p);Object(u.a)(t,t=>o.b.put(Object(i.c)(t)));const e=await Object(i.a)(p);Object(u.a)(e,t=>o.b.put(Object(i.c)(t)))}return Object(l.f)(async()=>{await s.a.loaded,O||await Object(r.a)("/loadseed");const t=await Promise.all([c.e(10),c.e(11)]).then(c.bind(null,327));j(0,f=t.default),$()}),t.$$.update=()=>{8&t.$$.dirty&&(p=JSON.stringify({q:{find:{"out.s2":d.a.message,$or:[{"out.s3":n},{"out.s4":n}]},project:{blk:1,"tx.h":1,"out.s3":1,"out.s4":1,"out.s5":1,"out.s6":1,"out.s7":1,"out.o1":1,"in.e":1,timestamp:1},limit:30}}))},[f,h,m,n,a,[{title:"Import seed",url:"/loadseed"},{title:"Settings",url:"/settings"}],$,p,O,function(){h=this.value,j(1,h)},function(t){b.h[t?"unshift":"push"](()=>{j(2,m=t)})}]}class E extends b.a{constructor(t){var e;super(),document.getElementById("svelte-1r9p5ia-style")||((e=Object(b.v)("style")).id="svelte-1r9p5ia-style",e.textContent=".cut-text.svelte-1r9p5ia{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}",Object(b.d)(document.head,e)),Object(b.F)(this,t,y,x,b.Q,{})}}e.default=E}}]);